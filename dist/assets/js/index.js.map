{"version":3,"sources":["index.js"],"names":["setStyles","localStorage","getItem","JSON","parse","setItem","stringify","getStylesList","getSettingsBtn","document","getElementById","getMainMenuBtn","getStylesBtn","getMenuStyles","getMenuColor","getMenuFont","getWeatherBlock","getWeatherWrap","getCitiesList","getLocation","monthNames","dayName","date","Date","currentDate","getDate","getMonth","getFullYear","getDayName","getDay","UI","[object Object]","element","className","classList","toggle","target","contains","parentNode","getAttribute","neededClass","neededData","key","obj","initUI","addEventListener","e","this","settings","setActiveDayPeriod","saveStyles","Data","data","innerHTML","city","day","map","item","time","temp","wet","wind","wea","country","initData","getData","async","res","fetch","json","body","remove","outputCities","getMenuItems","getElementsByClassName","cityData","getCityData","Array","from","forEach","innerText","outputWeather","outputLocaion","dayPeriod","add","getHours"],"mappings":"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","sourcesContent":["// check, set and get values from local storage\r\nconst setStyles = localStorage.getItem('weatherStyles') ? JSON.parse(localStorage.getItem('weatherStyles')) : {};\r\nlocalStorage.setItem('weatherStyles', JSON.stringify(setStyles));\r\nconst getStylesList = JSON.parse(localStorage.getItem('weatherStyles'));\r\n\r\n// get settings btn\r\nconst getSettingsBtn = document.getElementById('settings');\r\n\r\n// main menu\r\nconst getMainMenuBtn = document.getElementById('main-menu');\r\n\r\n// button for style options (fonts, colors)\r\nconst getStylesBtn = document.getElementById('styles-btn');\r\n\r\n// menu with styles (fonts, colors)\r\nconst getMenuStyles = document.getElementById('styles-menu');\r\n\r\n// menu with colors\r\nconst getMenuColor = document.getElementById('colors');\r\n\r\n// menu with fonts\r\nconst getMenuFont = document.getElementById('fonts');\r\n\r\n// block with weather\r\nconst getWeatherBlock = document.getElementById('weather-block');\r\n\r\n// whole wrap\r\nconst getWeatherWrap = document.getElementById('weather-wrap');\r\n\r\n// list for cities\r\nconst getCitiesList = document.getElementById('cities-list');\r\n\r\n// get location (top panel)\r\nconst getLocation = document.getElementById('currentLocation');\r\n\r\n// Month names\r\nconst monthNames = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\"\r\n];\r\n\r\n// Day names\r\nconst dayName = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday'\r\n]\r\n\r\n// date obj\r\nconst date = new Date();\r\n\r\n// current date\r\nconst currentDate = date.getDate() + ' ' + monthNames[date.getMonth()] + ' ' + date.getFullYear();\r\n\r\n// key for obj from json.file\r\nconst getDayName = dayName[date.getDay()];\r\n\r\n\r\n/*\r\n** CLASS UI\r\n*/\r\nclass UI {\r\n    constructor() { }\r\n\r\n    // setting buttons (settings, styles)\r\n    settings(element, className) {\r\n        element.classList.toggle(className);\r\n    }\r\n\r\n    // set active day period\r\n    setActiveDayPeriod(target) {\r\n        if (target.classList.contains('info-list__item')) {\r\n            getWeatherBlock.classList = 'weather-block' +\r\n                'show-' + target.parentNode.getAttribute('data-period');\r\n        } else { }\r\n    }\r\n\r\n    // change font, theme and set local storage for styles\r\n    setStyles(target, neededClass, neededData, key) {\r\n        if (target.classList.contains(neededClass)) {\r\n            getStylesList[key] = target.getAttribute(neededData);\r\n            localStorage.setItem('weatherStyles', JSON.stringify(getStylesList));\r\n        } else { }\r\n    }\r\n\r\n    // save selected font and theme to local storage\r\n    saveStyles(obj, element) {\r\n        element.classList = 'weather-wrap';\r\n        for (let key in obj) {\r\n            element.classList += ' ' + obj[key];\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/*\r\n** UI CLASS INITIALIZATION\r\n*/\r\nconst initUI = new UI();\r\n\r\n\r\n/*\r\n** MENU BUTTON (settings)\r\n*/\r\ngetSettingsBtn.addEventListener('click', function (e) {\r\n    this.classList.toggle('active');\r\n    initUI.settings(getMainMenuBtn, 'active');\r\n});\r\n\r\n\r\n/*\r\n** FONT AND THEME BUTTON\r\n*/\r\ngetStylesBtn.addEventListener('click', () => {\r\n    initUI.settings(getMenuStyles, 'active');\r\n});\r\n\r\n\r\n/*\r\n** CLICK EVENT FOR SHOWING CLICKED PERIOD OF DAY\r\n*/\r\ngetWeatherBlock.addEventListener('click', (e) => {\r\n    initUI.setActiveDayPeriod(e.target);\r\n});\r\n\r\n\r\n/*\r\n** CLICK EVENT FOR COLORS\r\n*/\r\ngetMenuColor.addEventListener('click', (e) => {\r\n    initUI.setStyles(e.target, 'menu__color--item', 'data-theme', 'theme');\r\n    initUI.saveStyles(getStylesList, getWeatherWrap);\r\n});\r\n\r\n\r\n/*\r\n** CLICK EVENT FOR FONTS\r\n*/\r\ngetMenuFont.addEventListener('click', (e) => {\r\n    initUI.setStyles(e.target, 'menu__font--item', 'data-font', 'font');\r\n    initUI.saveStyles(getStylesList, getWeatherWrap);\r\n});\r\n\r\n\r\n/*\r\n** CLASS DATA\r\n*/\r\nclass Data {\r\n\r\n    constructor() { }\r\n\r\n    // output cities\r\n    outputCities(data, element) {\r\n        for (var key in data) {\r\n            element.innerHTML += `<li class=\"menu__item\">${key}</li>`;\r\n        }\r\n    }\r\n\r\n    // output weather data\r\n    outputWeather(data, element,city, day) {\r\n        element.innerHTML = '';\r\n        data[city][day].map((item) => {\r\n            element.innerHTML +=\r\n                `<ul class=\"info-list ${item.time}\" data-period=${item.time}>\r\n                    <li class=\"info-list__item \">\r\n                        ${item.time}\r\n                    </li>\r\n    \r\n                    <li class=\"info-list__item temperature\">\r\n                        ${item.temp}\r\n                    </li>\r\n    \r\n                    <li class=\"info-list__item\">\r\n                        <span class=\"far fa-calendar-alt\"></span>\r\n                        ${currentDate}\r\n                    </li>\r\n    \r\n                    <li class=\"info-list__item\">\r\n                        ${item.wet}\r\n                        <span class=\"fas fa-tint\"></span>\r\n                    </li>\r\n    \r\n                    <li class=\"info-list__item\">\r\n                        <span class=\"fas fa-wind\"></span>\r\n                        ${item.wind}\r\n                    </li>\r\n    \r\n                    <li class=\"info-list__item\">\r\n                        ${item.wea}\r\n                        <span class=\"fas fa-cloud-sun\"></span>\r\n                    </li>\r\n                    <li class=\"info-list__item\" style='width: 100%'>\r\n                        <div class=\"${item.time + '-weather ' + item.wea}\"></div>\r\n                    </li>\r\n                </ul>`;\r\n        });\r\n    }\r\n\r\n    // output slected city and country (top panel)\r\n    outputLocaion(element, city, country) {\r\n        element.innerHTML = city + \", \" + country;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n** DATA CLASS INITIALLIZATION\r\n*/\r\nconst initData = new Data();\r\n\r\n\r\n/*\r\n** GET DATA FROM JSON FILE\r\n*/\r\nconst getData = async () => {\r\n    const res = await fetch('https://my-json-server.typicode.com/bogdan845/weather-data/db');\r\n    const data = await (res.json());\r\n\r\n    // set and output saved styles from local storage with loaded data\r\n    const displayWeather = await( () => {\r\n        (initUI.saveStyles(getStylesList, getWeatherWrap));\r\n        (document.body.classList.remove(\"awaiting\"));\r\n    });\r\n    displayWeather();\r\n\r\n    // output citites from data\r\n    initData.outputCities(data, getCitiesList);\r\n\r\n    // get created items (cities);\r\n    let getMenuItems = document.getElementsByClassName(\"menu__item\");\r\n\r\n    // get city data (city, country)\r\n    let cityData = {};\r\n\r\n    // check and set local storage\r\n    let cityInfo = localStorage.getItem(\"weatherCity\") ? localStorage.getItem(\"weatherCity\", JSON.stringify(cityData)) : localStorage.setItem(\"weatherCity\", JSON.stringify({ \"city\": \"Kiev\", \"country\": \"Ukraine\" }));\r\n\r\n    // get values from local storage (city)\r\n    let getCityData = JSON.parse(localStorage.getItem(\"weatherCity\"));\r\n\r\n    // click event for each city\r\n    Array.from(getMenuItems).forEach((item) => {\r\n        item.addEventListener('click', function () {\r\n\r\n            // close menu\r\n            getSettingsBtn.classList.remove(\"active\");\r\n            getMainMenuBtn.classList.remove(\"active\");\r\n\r\n            // get selected values\r\n            cityData = { city: this.innerText, country: data[this.innerText].country }\r\n\r\n            // set local storage when click on city\r\n            localStorage.setItem(\"weatherCity\", JSON.stringify(cityData));\r\n\r\n            // get values from local storage\r\n            getCityData = JSON.parse(localStorage.getItem(\"weatherCity\"));\r\n\r\n            // output weather dynamically for clicked city\r\n            initData.outputWeather(data, getWeatherBlock, getCityData.city, getDayName);\r\n            initData.outputLocaion(getLocation,  getCityData.city,  getCityData.country);\r\n        });\r\n    });\r\n\r\n    // output saved weather for current city\r\n    initData.outputWeather(data, getWeatherBlock, getCityData.city, getDayName);\r\n    initData.outputLocaion(getLocation,  getCityData.city,  getCityData.country);\r\n}\r\ngetData();\r\n\r\n\r\n/*\r\n** DISPLAY CURRENT DAY PERIOD\r\n*/\r\nconst dayPeriod = (time) => {\r\n    if (time >= 4 && time < 12) {\r\n        getWeatherBlock.classList.add('show-morning');\r\n    } else if (time >= 12 && time < 18) {\r\n        getWeatherBlock.classList.add('show-day');\r\n    } else if (time >= 18 && time <= 23) {\r\n        getWeatherBlock.classList.add('show-evening');\r\n    } else {\r\n        getWeatherBlock.classList.add('show-night');\r\n    }\r\n}\r\ndayPeriod(date.getHours());"],"file":"index.js"}